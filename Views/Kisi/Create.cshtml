@model RentCar.Models.Kisi

@{
    ViewData["Title"] = "Create New Person";
}

<h1>Create New Person</h1>

<form asp-action="Create" method="post">
    <div class="form-group">
        <label for="Tc">TC Number</label>
        <input type="text" class="form-control" id="Tc" name="Tc" required />
    </div>
    <div class="form-group">
        <label for="Ad">First Name</label>
        <input type="text" class="form-control" id="Ad" name="Ad" />
    </div>
    <div class="form-group">
        <label for="Soyad">Last Name</label>
        <input type="text" class="form-control" id="Soyad" name="Soyad" />
    </div>
    <div class="form-group">
        <label for="Telefon">Phone</label>
        <input type="text" class="form-control" id="Telefon" name="Telefon" />
    </div>
    <div class="form-group">
        <label for="EPosta">Email</label>
        <input type="email" class="form-control" id="EPosta" name="EPosta" />
    </div>
    <div class="form-group">
        <label for="Role">Role:</label>
        <select id="Role" name="Role" class="form-control" onchange="loadRoleForm(this.value)">
            <option value="">Select a Role</option>
            @foreach (var role in ViewBag.RoleOptions as List<SelectListItem>)
            {
                <option value="@role.Value">@role.Text</option>
            }
        </select>
    </div>
    <div id="role-specific-form">
        <!-- Partial view for role-specific inputs will be loaded here -->
    </div>
    <button type="submit" class="btn btn-primary">Create</button>
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
</form>

@section Scripts {
    <script>
        function loadRoleForm(role) {
            const url = '@Url.Action("RoleSpecificForm", "Kisi")' + '?role=' + role;
            $('#role-specific-form').load(url);
        }
    </script>
}